<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neutrino Oscillation Probability (with Matter Effects)</title>
    <!-- <link rel="stylesheet" href="style.css"> REMOVED -->
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include Chart.js Zoom Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.1/chartjs-plugin-zoom.min.js"></script>
    <!-- Include Tailwind Play CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-5 font-sans">
    <!-- Titles -->
    <h1 class="text-center text-2xl font-bold text-gray-700 mb-4">Neutrino Oscillation Probability with Matter Effects</h1>
    <!-- <h2 class="text-center text-lg text-gray-600 mb-2">(generated by google Gemini 2.5 Pro)</h2> -->

    <!-- Main container - Stacks vertically by default, horizontal on large screens -->
    <div class="flex flex-col lg:flex-row gap-5"> <!-- Main container -->

        <!-- Left Column: Plot -->
        <!-- Takes full width on small screens, 2/3 on large -->
        <div class="relative w-full lg:w-2/3 bg-white p-5 rounded-lg shadow min-h-[400px]"> <!-- Removed flex-grow, added widths -->
            <button id="resetZoomButton" class="absolute top-3 right-3 z-10 px-2 py-1 bg-gray-200 border border-gray-300 rounded text-xs cursor-pointer hover:bg-gray-300">Reset Zoom</button>
            <canvas id="oscillationChart"></canvas>
        </div>

        <!-- Right Column: Controls -->
        <!-- Takes full width on small screens, 1/3 on large, with min width -->
        <div class="w-full lg:w-1/3 min-w-[350px] bg-white p-5 rounded-lg shadow flex flex-col gap-4 overflow-y-auto max-h-[75vh] lg:max-h-none"> <!-- Removed flex-grow, added widths + min-width -->

            <!-- CP Phase -->
            <div class="bg-gray-100 p-4 rounded text-center">
                <label for="dcpSlider" class="block mb-2 font-bold text-gray-700">CP Phase (δ<sub>CP</sub>) [degrees]: <span id="dcpValue" class="text-blue-600 font-bold">217</span>°</label>
                <div class="flex items-center justify-center gap-3 mb-2">
                    <input type="range" id="dcpSlider" min="0" max="360" value="217" step="1" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    <input type="number" id="dcpInput" min="0" max="360" value="217" step="1" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                </div>
                <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default: ~217° for NO)</p>
            </div>

            <!-- Mass Ordering Toggle -->
            <div class="flex items-center justify-center gap-3 bg-gray-100 p-4 rounded text-center flex-wrap">
                <label for="massOrderToggle" class="font-bold text-gray-700 shrink-0">Mass Ordering:</label>
                <!-- Using standard checkbox, styled by Tailwind forms plugin (via CDN) -->
                <input type="checkbox" id="massOrderToggle" checked class="form-checkbox h-5 w-5 text-blue-600 rounded focus:ring-blue-500">
                <span id="massOrderLabel" class="text-sm font-bold ml-1">Normal</span>
                <!-- Info text removed for brevity, can be added back if needed -->
            </div>

            <!-- Distance -->
            <div class="bg-gray-100 p-4 rounded text-center">
                <label for="distanceSlider" class="block mb-2 font-bold text-gray-700">Distance (L) [km]: <span id="distanceValue" class="text-blue-600 font-bold">1300</span> km</label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                    <input type="range" id="distanceSlider" min="0" max="5000" value="1300" step="10" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    <input type="number" id="distanceInput" min="0" max="5000" value="1300" step="10" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                </div>
                <p class="text-xs text-gray-500 italic mt-1">(Default: 1300 km, e.g., DUNE baseline)</p>
             </div>

             <!-- Density -->
             <div class="bg-gray-100 p-4 rounded text-center">
                <label for="densitySlider" class="block mb-2 font-bold text-gray-700">Matter Density (ρ) [g/cm³]: <span id="densityValue" class="text-blue-600 font-bold">3.0</span> g/cm³</label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                    <input type="range" id="densitySlider" min="0" max="15" value="3.0" step="0.1" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    <input type="number" id="densityInput" min="0" max="15" value="3.0" step="0.1" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                </div>
                 <p class="text-xs text-gray-500 italic mt-1">(Avg. Earth Crust ~2.7-3.0, Mantle ~3.3-5.6)</p>
             </div>

             <!-- Physics Parameters Title -->
             <h3 class="text-center mt-5 font-bold text-gray-600">Known Oscillation Parameters</h3>

             <!-- Theta 12 -->
             <div class="bg-gray-100 p-4 rounded text-center">
                 <label for="theta12Slider" class="block mb-2 font-bold text-gray-700">θ<sub>12</sub> [degrees]: <span id="theta12Value" class="text-blue-600 font-bold">33.82</span>°</label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                     <input type="range" id="theta12Slider" min="25" max="45" value="33.82" step="0.01" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                     <input type="number" id="theta12Input" min="25" max="45" value="33.82" step="0.01" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                 </div>
                 <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default: 33.82°)</p>
             </div>

             <!-- Theta 13 -->
             <div class="bg-gray-100 p-4 rounded text-center">
                 <label for="theta13Slider" class="block mb-2 font-bold text-gray-700">θ<sub>13</sub> [degrees]: <span id="theta13Value" class="text-blue-600 font-bold">8.61</span>°</label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                     <input type="range" id="theta13Slider" min="7" max="10" value="8.61" step="0.01" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                     <input type="number" id="theta13Input" min="7" max="10" value="8.61" step="0.01" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                 </div>
                 <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default: 8.61°)</p>
             </div>

             <!-- Theta 23 -->
             <div class="bg-gray-100 p-4 rounded text-center">
                 <label for="theta23Slider" class="block mb-2 font-bold text-gray-700">θ<sub>23</sub> [degrees]: <span id="theta23Value" class="text-blue-600 font-bold">48.3</span>°</label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                     <input type="range" id="theta23Slider" min="38" max="54" value="48.3" step="0.1" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                     <input type="number" id="theta23Input" min="38" max="54" value="48.3" step="0.1" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                 </div>
                 <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default: 48.3° for NO)</p>
             </div>

             <!-- Delta m2_21 -->
             <div class="bg-gray-100 p-4 rounded text-center">
                 <label for="dm2_21Slider" class="block mb-2 font-bold text-gray-700">Δm<sup>2</sup><sub>21</sub> [10<sup>-5</sup> eV<sup>2</sup>]: <span id="dm2_21Value" class="text-blue-600 font-bold">7.39</span></label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                     <input type="range" id="dm2_21Slider" min="6.00" max="9.00" value="7.39" step="0.01" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                     <input type="number" id="dm2_21Input" min="6.00" max="9.00" value="7.39" step="0.01" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                 </div>
                 <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default: 7.39 × 10<sup>-5</sup> eV<sup>2</sup>)</p>
             </div>

             <!-- Delta m2_31 -->
             <div class="bg-gray-100 p-4 rounded text-center">
                 <label for="dm2_31Slider" class="block mb-2 font-bold text-gray-700">|Δm<sup>2</sup><sub>31</sub>| [10<sup>-3</sup> eV<sup>2</sup>]: <span id="dm2_31Value" class="text-blue-600 font-bold">2.525</span></label>
                 <div class="flex items-center justify-center gap-3 mb-2">
                     <input type="range" id="dm2_31Slider" min="2.300" max="2.700" value="2.525" step="0.001" class="flex-grow accent-blue-500 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                     <input type="number" id="dm2_31Input" min="2.300" max="2.700" value="2.525" step="0.001" class="w-20 shrink-0 border border-gray-300 rounded px-2 py-1 text-right">
                 </div>
                 <p class="text-xs text-gray-500 italic mt-1">(PDG 2023 default magnitude: 2.525 × 10<sup>-3</sup> eV<sup>2</sup>)</p>
             </div>

             <!-- Info Section -->
              <div class="bg-gray-100 p-4 rounded text-left text-sm">
                 <p>Y<sub>e</sub> ≈ 0.5 (Electron Fraction)</p>
                 <p class="mt-2"><i>Calculation ref: <a href="https://pdg.lbl.gov/2022/reviews/rpp2022-rev-neutrino-mixing.pdf" target="_blank" class="text-blue-600 hover:underline" title="Link to PDG 2022 Neutrino Mixing Review PDF">PDG RPP 2022, Sec. 14</a></i></p>
              </div>

        </div> <!-- End of Controls -->

    </div> <!-- End of Main Content -->

    <footer class="text-center text-xs text-gray-500 mt-8 py-4 border-t border-gray-200">
        Generated with assistance from Google Gemini.
    </footer>

    <script src="script.js"></script>
</body>
</html>
